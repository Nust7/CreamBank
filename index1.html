<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/src/header.css">
    <link rel="stylesheet" href="/src/main.css">
    <script src="/src/script.js" defer></script>
    <script src="../CreamBank/Login.js" defer></script>
    <title>Document</title>
</head>
<body>
        <header> 
            <nav>
                <div class="logo">
                    <img src="/src/imagens/logo-maior-semfundo.png" alt="">
                </div>
                <div class="area-entrada">
                    <div class="img-user"><i class="fa-regular fa-user"></i></div>
                    <input type="text" placeholder="Usuário" id="numeroConta" name="numeroConta" class="numeroConta" required>

                    <div class="img-unlock"><i class="fa-solid fa-unlock"></i></div>
                        
                    <input type="password" placeholder="Senha" name="senha" class="senha" required>
                </div>
                <div class="botaum">
                    <button id="btn-login"> entrar </button>
                </div>
            </nav>
        </header>
        <main>
            <section class="container">
                <div class="container-dois">
                    <h1>Cream</h1>
                    <h2>O banco número 1.</h2>
                    <p>Encontre aqui tudo oque precisa para simplificar e aproveitar ao máximo nossos serviços. Tranquilidade, eficiência e parceria. Bem-vindo ao Banco Cream</p>
                </div>
            </section>

            <section class="card-container">
                <div class="container-second-card">
                    <div class="abra-conta">
                        <div class="img-key-bg"><a href="/src/index.html" target="_blank"><i class="fa-solid fa-key"></i></a></div>
                        <p>Abra sua conta</p>
                    </div>
                    <div class="container-second-card-two">
                        <div class="container-second">
                            <div class="img-stonk">
                                <a href="#"><i class="fa-solid fa-clipboard"></i></a>
                            </div>
                            <h2>Parcelamento da fatura</h2>
                        </div>
                    </div>
                    <div class="container-second-card-two">
                        <div class="container-second">
                            <div class="img-stonk">
                                <a href="#"><i class="fa-solid fa-suitcase"></i></a>
                            </div>
                            <h2>Renegocie sua dívida</h2>
                        </div>
                    </div>
                    <div class="container-second-card-two">
                        <div class="container-second">
                            <div class="img-stonk">
                                <a href="#"><i class="fa-solid fa-credit-card"></i></a>
                            </div>
                            <h2>Peça seu cartão</h2>
                        </div>
                    </div>
                    <div class="container-second-card-two">
                        <div class="container-second">
                            <div class="img-stonk">
                                <a href="#"><i class="fa-solid fa-chart-line"></i></a>
                            </div>
                            <h2>simulador de investimentos</h2>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <footer>
            <p> Este site é protegido com reCAPTCHA e está sujeito à Política de Privacidade e aos Termos de Serviço do Google.
            <br> 
            *De 2016 a 2024, o Banco Cream tem liderado o cenário financeiro com crescimento contínuo. Participe dessa história de sucesso, onde cada ano é um capítulo de inovação e qualidade bancária. Seja bem-vindo ao futuro financeiro no Banco Cream
            </p>
            <img src="/src/imagens/logo-maior.png" alt="">
        </footer>


    <script>
        document.getElementById('btn-login').addEventListener('click', async function() {
            // Obter os valores dos campos de usuário e senha
            const numeroConta = document.querySelector('.numeroConta').value;
            const senha = document.querySelector('.senha').value;
    
            console.log("numeroConta " + numeroConta)
            console.log("senha " + senha)
    
            // Criar um objeto JSON com os valores de usuário e senha
            const dados = {
                numeroConta: numeroConta,
                senha: senha
            };
    
            try {
                // Enviar os dados para a API
                const response = await fetch('http://localhost:8080/cliente/logar', {
                    method: 'POST', // Alterado para POST
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(dados)
                });
    
                // Verificar se a resposta da API é bem-sucedida
                if (response.ok) {
                    // Se sim, obter os dados retornados pela API
                    const data = await response.json();
                    // Imprimir os dados no console
                    console.log(data);
                    window.location.href = '../CreamBank/src/login.html';
                    localStorage.setItem("dadosCliente", JSON.stringify(data))
                    cliente(data)
                } else {
                    // Se a resposta não for bem-sucedida, lançar um erro
                    throw new Error('Erro ao fazer login');
                }
            } catch (error) {
                // Capturar e imprimir erros
                console.error('Erro durante a solicitação:', error);
                alert('Erro durante o login. Por favor, tente novamente mais tarde.');
            }
        });
    </script>
    
</body>
</html>



